<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
       xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
      >
    <h:head>        
        <ui:include src = "components/css.xhtml" />
        <style>
            .error{color: red}
        </style>
    </h:head>
    <h:body class="hold-transition skin-blue sidebar-mini">
        <div class="wrapper">
            <ui:include src = "components/header.xhtml" />
            <ui:include src = "components/nav.xhtml" />
            <div class="content-wrapper">
                <section class="content">
                    <div class="box box-default">
                        <div class="box-header with-border">
                            <h3 class="box-title">New Product </h3>
                        </div>

                        <!-- /.box-header -->
                        <div class="box-body">
                            <h:form enctype="multipart/form-data">		
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-group col-md-3">
                                            
                                            <h:inputHidden value="#{adminBean.productId}" id="productId"></h:inputHidden>  
                                        </div>
                                        
                                        <div class="form-group col-md-3">
                                            <h:outputLabel for="product">Product<h:outputText value="*" lang="en" style="color: red"></h:outputText></h:outputLabel>  
                                            <h:inputText id="pname" value="#{adminBean.productName}"          
                                                 required="true"  alt="product name"   autocomplete="off" readonly="false"          
                                                 requiredMessage="Product Name is required"
                                               validatorMessage="Please enter only alphabets"
                                                 styleClass="form-control">
                                                <f:validateRegex pattern="^([a-zA-Z]+(.)?[\s]*)$"   />  

                                            </h:inputText>
                                              <h:message for="pname" styleClass="error" infoStyle="display:none"></h:message> 
                                             </div>
                                    
                                       <div class="form-group col-md-3">
                                            <h:outputLabel for="desc">Description<h:outputText value="*" lang="en" style="color: red"></h:outputText></h:outputLabel>  
                                            <h:inputText id="pdesc" value="#{adminBean.productDesc}"          
                                                 required="true"              
                                                 requiredMessage="Description is required"
                                               
                                                 styleClass="form-control">
                                            
   
                                            </h:inputText>
                                            <h:message for="pdesc" styleClass="error" infoStyle="display:none"></h:message>
                                        </div>
                                       
                                        
                                         <div class="form-group col-md-3">
                                            <h:outputLabel for="image">Image<h:outputText value="*" lang="en" style="color: red"></h:outputText></h:outputLabel>  
                                             
                                             <h:inputFile class="form-control" id="pic" value="#{adminBean.file}"
                                                required="true"   requiredMessage="Please upload a file" alt="upload file" 
                                                />
                                             <h:message for="pic" styleClass="error" infoStyle="display:none"></h:message>
                                        </div>
                                       
                             
                               
                                         <div class="form-group col-md-3">
                                            <h:outputLabel for="pprice">Price<h:outputText value="*" lang="en" style="color: red"></h:outputText></h:outputLabel>  
                                            <h:inputText id="price" value="#{adminBean.price}"          
                                                 required="true"              
                                                 requiredMessage="Product price is required"
                                                
                                                 styleClass="form-control">
                                                  
                                              
                                            </h:inputText>
                                            <h:message for="price" styleClass="error" infoStyle="display:none"></h:message>
                                        </div>
                               
                                 
                                         <div class="form-group col-md-3">
                                            <h:outputLabel for="Category">Category Type<h:outputText value="*" lang="en" style="color: red"></h:outputText></h:outputLabel>  
                                            <h:selectOneMenu  class ="form-control" value="#{adminBean.categoryId}">
                                                <f:selectItems value="#{adminBean.showcategory()}" var="categoryobj" itemValue="#{categoryobj.categoryId}" itemLabel="#{categoryobj.categoryName}" />
                                           </h:selectOneMenu> 
                                        </div>
                                         <div class="form-group col-md-3">
                                            <h:outputLabel for="inventory">inventory Type<h:outputText value="*" lang="en" style="color: red"></h:outputText></h:outputLabel>  
                                            <h:selectOneMenu  class ="form-control" value="#{adminBean.inventoryId}">
                                                <f:selectItems value="#{adminBean.showinventory()}" var="inventoryobj" itemValue="#{inventoryobj.inventryId}" itemLabel="#{inventoryobj.qty}" />
                                           </h:selectOneMenu> 
                                        </div>
                                         <div class="form-group col-md-3">
                                            <h:outputLabel for="discount">discount Type<h:outputText value="*" lang="en" style="color: red"></h:outputText></h:outputLabel>  
                                            <h:selectOneMenu  class ="form-control" value="#{adminBean.discountId}">
                                                <f:selectItems value="#{adminBean.showdiscount()}" var="discountobj" itemValue="#{discountobj.discountId}" itemLabel="#{discountobj.discountName}" />
                                           </h:selectOneMenu> 
                                        </div>
                                        
                                    </div>
                                </div>

                                

                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-group col-md-4">
                                            <c:if test="#{adminBean.productId==0}"><h:commandButton value="Submit" id="btnSubmit" action="#{adminBean.addnewproduct()}" styleClass="btn btn-primary"/></c:if>
                                            <c:if test="#{adminBean.productId!=0}"><h:commandButton value="Update" id="btnSubmit" action="#{adminBean.updateproduct()}" styleClass="btn btn-primary"/></c:if>
<!--                                                <a href="#!" onclick="formBack();" class="btn btn-default btn-flat" style="margin-top: 8px;margin-right: 15px;">Back</a>-->  
                                        </div>
                                    </div>
                                </div>
                            </h:form>
                        </div>
                    </div>
                </section>
            </div>
            <footer class="main-footer">
                    <ui:insert name = "footer" >
                        <ui:include src = "components/footer.xhtml" />
                    </ui:insert>
            </footer>
        </div>
        <ui:include src = "components/bottomscript.xhtml" />
    </h:body>
</html>

