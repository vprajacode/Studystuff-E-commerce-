<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
       xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>      
     
        <ui:include src = "components/css.xhtml" />
        <style>
            .error{color: red}
        </style>
    </h:head>
    <h:body class="hold-transition skin-blue sidebar-mini">
        <div class="wrapper">
            <ui:include src = "components/header.xhtml" />
            <ui:include src = "components/nav.xhtml" />
            <div class="content-wrapper">
                <section class="content">
                    <div class="box box-default">
                        <div class="box-header with-border">
                            <h3 class="box-title">New Category</h3>
                        </div>

                        <!-- /.box-header -->
                        <div class="box-body">
                            <h:form>		
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-group col-md-3">
                                            
                                            <h:inputHidden value="#{adminBean.categoryId}" id="categoryId"></h:inputHidden>  
                                        </div>
                                        
                                        <div class="form-group col-md-3">
                                            <h:outputLabel for="cname">Category <h:outputText value="*" lang="en" style="color: red"></h:outputText></h:outputLabel>  
                                            <h:inputText id="cname" value="#{adminBean.categoryName}"          
                                                 required="true"              
                                                 requiredMessage="Category Name is required"
                                                 validatorMessage="It can have only Alphabets"
                                                 styleClass="form-control">
                                                <f:validateRegex pattern="^([a-zA-Z]+?[\s]*)$" />  

                                            </h:inputText>
                                            <h:message for="cname" styleClass="error" infoStyle="display:none"></h:message>
                                        </div>
                                       <div class="form-group col-md-3">
                                            <h:outputLabel for="catdesc">Description<h:outputText value="*" lang="en" style="color: red"></h:outputText></h:outputLabel>  
                                            <h:inputText id="cdesc" value="#{adminBean.categoryDesc}"       
                                                 required="true"              
                                                 requiredMessage="category description is required"
                                                 validatorMessage="It can have only Alphabets"
                                                 styleClass="form-control">
                                                <f:validateRegex pattern="^([a-zA-Z]+(.)?[\s]*)" />  

                                            </h:inputText>
                                            <h:message for="cdesc" styleClass="error" infoStyle="display:none"></h:message>
                                        </div>
                                         
                                    </div>
                                </div>

                                

                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-group col-md-4">
                                            <c:if test="#{adminBean.categoryId==0}"><h:commandButton value="Submit" id="btnSubmit" action="#{adminBean.addcategory()}" styleClass="btn btn-primary"/></c:if>
                                            <c:if test="#{adminBean.categoryId!=0}"><h:commandButton value="Update" id="btnSubmit" action="#{adminBean.updatepcategory()}" styleClass="btn btn-primary"/></c:if>
<!--                                                <a href="#!" onclick="formBack();" class="btn btn-default btn-flat" style="margin-top: 8px;margin-right: 15px;">Back</a>-->  
                                        </div>
                                    </div>
                                </div>
                            </h:form>
                        </div>
                    </div>
                </section>
            </div>
            <footer class="main-footer">
                    <ui:insert name = "footer" >
                        <ui:include src = "components/footer.xhtml" />
                    </ui:insert>
            </footer>
        </div>
        <ui:include src = "components/bottomscript.xhtml" />
    </h:body>
</html>

